<!-- Page Header -->
<div class="row align-items-center mb-4">
    <div class="col-md-8">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-2">
                <li class="breadcrumb-item"><a href="/admin">Admin</a></li>
                <li class="breadcrumb-item"><a href="/admin/players">Players</a></li>
                <li class="breadcrumb-item active" aria-current="page">Upload</li>
            </ol>
        </nav>
        <h1 class="mb-0">Upload NFL Players</h1>
    </div>
    <div class="col-md-4 text-md-end">
        <a href="/admin" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Back to Admin
        </a>
    </div>
</div>

<!-- Upload Forms -->
<div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Upload NFL Players CSV</h5>
                    </div>
                    <div class="card-body">
                        <form action="/admin/players/upload" method="POST" enctype="multipart/form-data">
                            <div class="mb-3">
                                <label for="playersCsv" class="form-label">Select CSV File</label>
                                <input class="form-control" type="file" id="playersCsv" name="playersCsv" accept=".csv" required>
                                <div class="form-text">File must be a CSV with headers.</div>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary">
                                    <i class="bi bi-upload"></i> Upload and Process
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- CSV Format Information -->
                <div class="card mt-4">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">CSV Format Information</h5>
                    </div>
                    <div class="card-body">
                        <p>Your CSV file should have the following columns:</p>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Column Name</th>
                                    <th>Description</th>
                                    <th>Required</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>first_name</td>
                                    <td>Player's first name</td>
                                    <td class="text-center">✓</td>
                                </tr>
                                <tr>
                                    <td>last_name</td>
                                    <td>Player's last name</td>
                                    <td class="text-center">✓</td>
                                </tr>
                                <tr>
                                    <td>display_name</td>
                                    <td>Display name (if different from first + last)</td>
                                    <td class="text-center"></td>
                                </tr>
                                <tr>
                                    <td>nfl_team_code</td>
                                    <td>NFL team code (e.g., KC, SF)</td>
                                    <td class="text-center"></td>
                                </tr>
                                <tr>
                                    <td>position</td>
                                    <td>Player position (QB, RB, WR, etc.)</td>
                                    <td class="text-center">✓</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="alert alert-info mb-0">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>Note:</strong> If NFL team code doesn't match an existing team, the player will be added without a team.
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0">NFL Teams Reference</h5>
                    </div>
                    <div class="card-body">
                        <p>Available NFL team codes:</p>
                        <div class="table-responsive" style="max-height: 300px; overflow-y: auto;">
                            <table class="table table-sm table-striped">
                                <thead>
                                    <tr>
                                        <th>Code</th>
                                        <th>Team Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% teams.forEach(team => { %>
                                        <tr>
                                            <td><strong><%= team.team_code %></strong></td>
                                            <td><%= team.team_name %></td>
                                        </tr>
                                    <% }); %>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0">Sample CSV</h5>
                    </div>
                    <div class="card-body">
                        <p>Download a sample CSV template:</p>
                        <div class="d-grid">
                            <a href="/downloads/players-sample.csv" class="btn btn-outline-primary">
                                <i class="bi bi-download"></i> Download Template
                            </a>
                        </div>
                        <hr>
                        <div class="alert alert-warning mb-0">
                            <i class="bi bi-exclamation-triangle-fill me-2"></i>
                            <strong>Tip:</strong> For large player lists, consider splitting into multiple CSV files to upload separately.
                        </div>
                    </div>
                </div>
            </div>
        </div>